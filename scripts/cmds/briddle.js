// briddle.js
// à¦¬à¦¾à¦‚à¦²à¦¾ à¦§à¦¾à¦à¦§à¦¾ (Standalone Version)
// No dependency, No extra config â€” 100% working reply system
// Author: Helal

const riddles = [
  { q: "à¦à¦•à¦²à¦¾ à¦¤à¦¾à¦°à¦¾ à¦¯à¦¾à¦¯à¦¼ à¦¨à¦¾ à¦¦à§‡à¦–à¦¾, à¦¸à¦™à§à¦—à§€ à¦—à§‡à¦²à§‡ à¦¬à¦¾à¦à¦šà§‡à¥¤ à¦†à¦§à¦¾à¦° à¦¦à§‡à¦–à§‡ à¦­à¦¯à¦¼à§‡ à¦ªà¦¾à¦²à¦¾à¦¯à¦¼, à¦†à¦²à§‹à¦¯à¦¼ à¦«à¦¿à¦°à§‡ à¦†à¦¸à§‡à¥¤", a: "à¦›à¦¾à¦¯à¦¼à¦¾" },
  { q: "à¦•à§‹à¦¥à¦¾à¦¯à¦¼ à¦¨à¦¦à§€ à¦†à¦›à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦œà¦² à¦¨à§‡à¦‡? à¦ªà¦¾à¦¹à¦¾à¦¡à¦¼ à¦†à¦›à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦ªà¦¾à¦¥à¦° à¦¨à§‡à¦‡?", a: "à¦®à¦¾à¦¨à¦šà¦¿à¦¤à§à¦°" },
  { q: "à¦¯à¦¤ à¦¬à¦¾à¦¡à¦¼à¦¾à¦“ à¦¤à¦¤ à¦›à§‹à¦Ÿ à¦¹à¦¯à¦¼ â€” à¦•à§€ à¦¸à§‡à¦Ÿà¦¾?", a: "à¦—à¦°à§à¦¤" },
  { q: "à¦†à¦®à¦¾à¦° à¦®à§à¦– à¦†à¦›à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦•à¦¥à¦¾ à¦¬à¦²à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ à¦¨à¦¾ â€” à¦†à¦®à¦¿ à¦•à§‡?", a: "à¦¨à¦¦à§€" },
  { q: "à¦†à¦®à¦¿ à¦ªà¦¾ à¦›à¦¾à¦¡à¦¼à¦¾à¦‡ à¦¹à¦¾à¦à¦Ÿà¦¿, à¦®à§à¦– à¦›à¦¾à¦¡à¦¼à¦¾à¦‡ à¦•à¦¥à¦¾ à¦¬à¦²à¦¿ â€” à¦†à¦®à¦¿ à¦•à§‡?", a: "à¦¹à¦¾à¦“à¦¯à¦¼à¦¾" },
  { q: "à¦¬à¦² à¦•à§‹à¦¨ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¾ à¦¯à¦¤ à¦Ÿà¦¾à¦¨à¦¬à§‡ à¦¤à¦¤ à¦›à§‹à¦Ÿ à¦¹à¦¬à§‡?", a: "à¦¬à§à¦¯à¦¾à¦¨à§à¦¡" },
  { q: "à¦†à¦®à¦¾à¦° à¦ªà¦¾ à¦¨à§‡à¦‡ à¦•à¦¿à¦¨à§à¦¤à§ à¦¹à¦¾à¦à¦Ÿà¦¿, à¦¡à¦¾à¦¨à¦¾ à¦¨à§‡à¦‡ à¦•à¦¿à¦¨à§à¦¤à§ à¦‰à¦¡à¦¼à¦¿, à¦¬à¦² à¦•à§‡?", a: "à¦¸à¦®à¦¯à¦¼" },
  { q: "à¦¯à§‡ à¦¬à¦¾à¦¡à¦¼à¦¿ à¦¥à§‡à¦•à§‡ à¦¬à§‡à¦°à§‹à¦²à§‡ à¦­à¦¿à¦œà§‡ à¦¯à¦¾à¦“, à¦•à¦¿à¦¨à§à¦¤à§ à¦­à¦¿à¦¤à¦°à§‡ à¦¶à§à¦•à¦¨à§‹ à¦¥à¦¾à¦•à§‹?", a: "à¦›à¦¾à¦¤à¦¾" },
  { q: "à¦¬à¦² à¦•à§‹à¦¨ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¾ à¦•à¦¾à¦Ÿà¦²à§‡ à¦•à¦¾à¦à¦¦à§‡?", a: "à¦ªà§‡à¦à¦¯à¦¼à¦¾à¦œ" },
  { q: "à¦¯à§‡ à¦—à¦¾à¦›à§‡à¦° à¦ªà¦¾à¦¤à¦¾ à¦¨à§‡à¦‡, à¦›à¦¾à¦¯à¦¼à¦¾ à¦¨à§‡à¦‡, à¦¤à¦¬à§à¦“ à¦®à¦¾à¦¥à¦¾à¦¯à¦¼ à¦¥à¦¾à¦•à§‡?", a: "à¦›à¦¾à¦¤à¦¾" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¾ à¦¯à¦¤ à¦¨à§‡à¦¯à¦¼à¦¾ à¦¯à¦¾à¦¯à¦¼, à¦¤à¦¤ à¦¬à¦¾à¦¡à¦¼à§‡?", a: "à¦—à¦°à§à¦¤" },
  { q: "à¦¯à§‡ à¦®à¦¾à¦¨à§à¦· à¦•à¦–à¦¨à¦“ à¦˜à§à¦®à¦¾à¦¯à¦¼ à¦¨à¦¾?", a: "à¦˜à¦¡à¦¼à¦¿" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸ à¦¸à¦¬à¦¸à¦®à¦¯à¦¼ à¦šà¦²à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦•à¦–à¦¨à¦“ à¦¥à¦¾à¦®à§‡ à¦¨à¦¾?", a: "à¦¸à¦®à¦¯à¦¼" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à§‡à¦° à¦®à¦¾à¦¥à¦¾ à¦†à¦›à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦¶à¦°à§€à¦° à¦¨à§‡à¦‡?", a: "à¦ªà§‡à¦°à§‡à¦•" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à§‡à¦° à¦®à§à¦– à¦†à¦›à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦–à¦¾à¦¯à¦¼ à¦¨à¦¾?", a: "à¦¨à¦¦à§€" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦•à¦¾à¦Ÿà¦²à§‡ à¦•à¦¾à¦à¦¦à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦®à¦¾à¦¨à§à¦· à¦¨à¦¯à¦¼?", a: "à¦ªà§‡à¦à¦¯à¦¼à¦¾à¦œ" },
  { q: "à¦†à¦®à¦¿ à¦ªà¦¾à¦¨à¦¿ à¦›à§à¦à¦²à§‡ à¦¹à¦¾à¦°à¦¿à¦¯à¦¼à§‡ à¦¯à¦¾à¦‡ â€” à¦†à¦®à¦¿ à¦•à§‡?", a: "à¦²à¦¬à¦£" },
  { q: "à¦†à¦®à¦¿ à¦¯à¦¤ à¦¬à¦¡à¦¼ à¦¹à¦‡, à¦¤à¦¤ à¦¹à¦¾à¦²à¦•à¦¾ à¦¹à¦‡ â€” à¦†à¦®à¦¿ à¦•à§‡?", a: "à¦¬à§‡à¦²à§à¦¨" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦šà§‹à¦–à§‡ à¦¦à§‡à¦–à¦¾ à¦¯à¦¾à¦¯à¦¼ à¦¨à¦¾, à¦¤à¦¬à§à¦“ à¦¸à¦¬à¦¾à¦‡ à¦…à¦¨à§à¦­à¦¬ à¦•à¦°à§‡?", a: "à¦¹à¦¾à¦“à¦¯à¦¼à¦¾" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦¯à¦¤ à¦¦à§‡à¦¯à¦¼à¦¾ à¦¯à¦¾à¦¯à¦¼, à¦¤à¦¤ à¦¬à¦¾à¦¡à¦¼à§‡?", a: "à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¾" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦­à¦¾à¦™à¦²à§‡ à¦¶à¦¬à§à¦¦ à¦¹à¦¯à¦¼, à¦•à¦¿à¦¨à§à¦¤à§ à¦¶à¦°à§€à¦° à¦¨à¦¯à¦¼?", a: "à¦¨à§€à¦°à¦¬à¦¤à¦¾" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦¯à¦¤ à¦ªà¦°à¦¿à¦·à§à¦•à¦¾à¦° à¦¹à¦¬à§‡, à¦¤à¦¤ à¦¨à§‹à¦‚à¦°à¦¾ à¦¦à§‡à¦–à¦¾à¦¬à§‡?", a: "à¦†à¦¯à¦¼à¦¨à¦¾" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦¦à§Œà¦¡à¦¼à¦¾à¦¯à¦¼ à¦•à¦¿à¦¨à§à¦¤à§ à¦•à¦–à¦¨à¦“ à¦¹à¦¾à¦à¦Ÿà§‡ à¦¨à¦¾?", a: "à¦¨à¦¦à§€" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦¸à¦¬à¦¸à¦®à¦¯à¦¼ à¦¸à¦¾à¦®à¦¨à§‡ à¦¯à¦¾à¦¯à¦¼ à¦•à¦¿à¦¨à§à¦¤à§ à¦•à¦–à¦¨à¦“ à¦ªà§‡à¦›à¦¾à¦¯à¦¼ à¦¨à¦¾?", a: "à¦¸à¦®à¦¯à¦¼" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦¦à§‡à¦–à¦²à§‡ à¦­à¦¯à¦¼ à¦ªà¦¾à¦“, à¦•à¦¿à¦¨à§à¦¤à§ à¦¨à§‡à¦‡?", a: "à¦›à¦¾à¦¯à¦¼à¦¾" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦•à¦¥à¦¾ à¦¨à¦¾ à¦¬à¦²à§‡à¦“ à¦…à¦¨à§‡à¦• à¦•à¦¿à¦›à§ à¦¬à¦²à§‡?", a: "à¦šà§‹à¦–" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦­à¦¾à¦™à¦²à§‡ à¦¸à§à¦– à¦ªà¦¾à¦“à¦¯à¦¼à¦¾ à¦¯à¦¾à¦¯à¦¼?", a: "à¦¡à¦¿à¦®" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦¦à§‡à¦–à¦¾ à¦¯à¦¾à¦¯à¦¼ à¦¨à¦¾ à¦•à¦¿à¦¨à§à¦¤à§ à¦¶à§‹à¦¨à¦¾ à¦¯à¦¾à¦¯à¦¼?", a: "à¦¹à¦¾à¦“à¦¯à¦¼à¦¾" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦¯à¦¤ à¦¬à¦¾à¦¡à¦¼à§‡, à¦¤à¦¤ à¦…à¦¨à§à¦§à¦•à¦¾à¦° à¦¹à¦¯à¦¼?", a: "à¦°à¦¾à¦¤" },
  { q: "à¦¯à§‡ à¦œà¦¿à¦¨à¦¿à¦¸à¦Ÿà¦¿ à¦à¦•à¦¬à¦¾à¦° à¦—à§‡à¦²à§‡ à¦†à¦° à¦«à¦¿à¦°à§‡ à¦†à¦¸à§‡ à¦¨à¦¾?", a: "à¦¸à¦®à¦¯à¦¼" }
];

// store riddles in memory
const activeRiddles = new Map();

module.exports = {
  config: {
    name: "riddle",
    aliases: ["banglariddle", "bhriddle"],
    version: "5.0",
    author: "Helal",
    countDown: 3,
    role: 0,
    category: "game",
    shortDescription: { en: "Bangla riddles â€” fully standalone reply system" }
  },

  onStart: async function ({ message }) {
    const item = riddles[Math.floor(Math.random() * riddles.length)];
    const text = `ğŸ§© *à¦¬à¦¾à¦‚à¦²à¦¾ à¦§à¦¾à¦à¦§à¦¾ à¦¸à¦®à¦¯à¦¼!*\n\nğŸ‡§ğŸ‡© à¦ªà§à¦°à¦¶à§à¦¨: ${item.q}\n\nğŸ‘‰ à¦‰à¦¤à§à¦¤à¦° à¦¦à¦¿à¦¤à§‡ à¦à¦‡ à¦®à§‡à¦¸à§‡à¦œà§‡à¦° à¦°à¦¿à¦ªà§à¦²à¦¾à¦‡ à¦•à¦°à§‹à¥¤`;

    message.reply(text, (err, info) => {
      if (err) return;
      activeRiddles.set(info.messageID, {
        answer: item.a.toLowerCase(),
        time: Date.now()
      });
    });
  },

  onChat: async function ({ event, message }) {
    try {
      const replied = event.messageReply;
      if (!replied) return;
      const data = activeRiddles.get(replied.messageID);
      if (!data) return;

      const userAns = (event.body || "").trim().toLowerCase();
      if (!userAns) return;

      if (
        userAns === data.answer ||
        data.answer.includes(userAns) ||
        userAns.includes(data.answer)
      ) {
        message.reply(`âœ… à¦ à¦¿à¦• à¦¬à¦²à§‡à¦›à§‹! à¦‰à¦¤à§à¦¤à¦°: *${data.answer}* ğŸ‰`);
      } else {
        message.reply(`âŒ à¦­à§à¦² à¦¬à¦²à§‡à¦›à§‹!\nà¦¸à¦ à¦¿à¦• à¦‰à¦¤à§à¦¤à¦° â†’ *${data.answer}* ğŸ§ `);
      }

      activeRiddles.delete(replied.messageID);
    } catch (e) {
      console.error(e);
    }
  }
};